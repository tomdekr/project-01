# Final Project Report
## Korte omschrijving

In mijn app is het mogelijk om recepten te zoeken gebaseerd op 1 of meerdere ingredienten en voedselallergieen. De gebruiker krijgt een resultaat van gevonden recepten te zien gebaseerd op de ingevoerde ingredienten. Van dit recept is de stappenplan te bekijken. De user kan het recept op slaan als persoonlijk favoriet. Verder is het mogelijk om als user een groepnaam aan tegeven, hierbij kunnen meerdere mensen in dezelfde groep (/huishouden) recepten toevoegen aan de groepslijst en dit vervolgens weergeven.

<img src="https://github.com/tomdekr/project-01/blob/master/doc/Naamloos-1.png" width="436" height="768" />

# Technical design
## Omschrijving:
- *LoginActivity.java :* De functionaliteit van de login activity klinkt vanzelfsprekend, de user kan op deze activity inloggen met zijn of haar gegevens. 
- *SignupActivity.java :* Op deze activity kan de user zich registreren mits hij of zij dat nog niet heeft gedaan.
- *MainActivity.java :* Deze class functioneert als de kern van de applicatie. Op de MainActivity kan de user ingredienten invullen op de editText om met een druk op de 'Search' button het uit te voeren. Als de parameters zijn ingevuld dan zal de samengestelde input van  parameters opgeslagen worden en worden ze meegegeven naar de RecipeImageActitvity om de JSON Response te parse'n. Daarnaast kan de user navigeren naar zijn of haar profiel, favorieten en groepsfavorieten. 
- *RecipeImageActivity.java :* Hiernaartoe worden de parameters voor de url vanuit MainActivity met een intent meegegeven. Met de methode ParseJSON wordt de url request aangemaakt en zal de benodigde data als; id, imageurl, name & rating opgehaald worden. 
Vervolgens worden de waardes per recept opgeslagen in een instance van de class Recipe. Deze instances van Recipe worden daarmee toegevoegd aan een Arraylist en vastgezet aan de Adapter. Hiermee wordt vervolgens de RecyclerView aangemaakt en worden de recepten weergegeven op de pagina met de benodigde data. Tot slot is er een onItemClickListener die ervoor zorgt dat de recepten clickable zijn en bij een onItemClick de juiste id wordt meegegeven voor de RecipeDetailActivity.
- *RecipeDetailActivity :* Op deze activity wordt er een pagina genereeerd op de meegegeven waarde van de id van een recept. Zo'n id kan ontvangen worden van verschillende activiteiten namelijk: RecipeImage, FavoriteList en GroupList. Eerst zal er dus gecheckt moeten worden waar de id vandaan komt door de juiste intent te gebruiken. Als dat gedaan is wordt de parseJSON method uitgevoerd en worden de benodige data als: name, preparation time, ingedrients, imageUrl & sourceUrl in de verschillende Views neergezet. Op de pagina zelf kan door de method addToFavorite() een recept toegevoegd worden aan de Firebase Database tot de persoonlijke favorieten door op het zwarte hartje te klikken, als dit gebeurt verandert hij vervolgens in een rood hartje. Het recept wordt verwijderd van Firebase Database door nog een keer op het hartje te klikken, wat het hartje weer zwart maakt. Ook kan een recept toegevoegd worden aan de groepslijst door de method addtoGroupFavorites(), dit wordt uitgevoerd door op de 'Group' button te klikken (hierbij wordt er in de functie eerst nog gecheckt wat voor groepsnaam de user heeft ingevuld). Door een longClick uit te voeren kan een recept uit de groepslijst worden gehaald. Verder gaat de method checkFavorites() elke keer na of een recept id, die is ontvangen via een intent, gelijk is aan een id in de Firebase Database. Mocht dat zo zijn dan zal het hartje rood weergegeven worden.
Tot slot, is er de mogelijkheid om op de button 'Recipe' te klikken en kan een user hiermee naar de WebView activity gaan.
- *WebActivity.java :* Hier wordt de weburl van het recept weergegeven die verkregen is van de RecipeDetailActivity, zo kunnen de users de stappenplan van het recept bekijken.
- *FavoriteList.java :* In de activity FavoriteList kan de user zijn of haar favorieten zien. Deze worden opgehaald van de Firebase Database via DataSnapshot en uiteindelijke als instance van de class Recipe en worden weergegeven in een RecyclerView door de de adapter. Deze items zijn clickable om de mogelijkheid te geven om de details van het recept te kunnen bekijken
- *GroupList.java :* De activity GroupList laat de favorieten zien van de groep waar de user zich in bevindt. Dit wordt gedaan door eerst de ingevulde waarde van de groepsnaam op te halen van de user van Firebase, door vervolgens die waarde te gebruiken in een DatabaseReference url om bij de juiste groepslijst te komen. Hierbij zijn de recepten ook een instance van de class Recipe en worden ook weergegeven in een RecyclerView met imageurl, name & rating. Ook hier zijn de items wederom clickable om de user de mogelijkheid te geven om de details van het recept te kunnen bekijken.
- *ProfileActivity.java :* Op deze activity kan de user zijn username en groepsnaam invullen, dit wordt opgeslagen in Firebase door op 'Save info' te klikken. Vervolgens worden de ingevoerde waardes weergegeven. Tot slot kan de user ook uitloggen.
- *Recipe.java :* Recipe is een class die de benodige informatie van een recept bevat die in RecipeDetailActivity wordt opgeslagen. De class wordt dus gebruikt om de opgehaalde api waardes op te slaan als instance en maakt het mogelijk om de RecyclerView van data te voorzien.
- *Adapter.java :*  Deze class ontvangt data van activiteiten in een instance van Recipe class en maakt hier een RecyclerView van.

## Challenges:

Voor mij was het een grote challenge om het groep concept goed te laten werken. Ik had in mijn DESIGN.md dit vernoemd als mijn 'Hardest part' en ik denk dat het is gebleken dat het zeker een moeilijk onderdeel van mijn applicatie is geweest. Het maken van een favoriten lijst onder een bepaalde id/groepsnaam is niet lastig. Maar de user daaraan linken en vervolgens filteren op de juiste groepsnaam die hoort bij de juiste user vond ik wel pittig. Ik heb voor deze challenge een aantal keuzes gemaakt:

- Mijn eerste attempt was om de mogelijkheid te geven om als user alle andere users te kunnen bekijken. Hiermee kon hij/zij iemand toevoegen als vriend in zijn eigen friendlist. Vervolgens kon de user in zijn friendlist iemand toevoegen tot een groep. Hiermee kwam het probleem dat als iemand helemaal geen vrienden wilt zijn dit wel geaccepteerd/genegeerd kan worden door een user. Daarnaast gold dat ook voor het 'toevoegen aan een groep' idee. Op deze manier zou dit veel werk zijn en de app functionaliteit heel erg omslachtig maken naar mijn mening.
- Tijdens de eerste presentatie met een prototype bracht ik dit probleem naar voren en kreeg ik handige feedback! De feedback was dat ik ook een soort 'volg' idee kon gebruiken. Dit hield in dat de user een groepsnaam kon volgen en daar de recepten van kon zien of  verwijderen. Dit was voor mij een goed idee omdat de users van de app die in een huishouden / studentenhuis zaten zelf konden bedenken welke naam ze wilde gebruiken voor hun huishouden. Hiermee wisten de mensen die in de groep willen welke groepsnaam ze moesten volgen en kon ik zo veel omslachtigheid in mijn app voorkomen. Nu was het makkelijker om te volgen en te veranderen dan voorheen bij het eerste idee.

Verder vond ik de weergave van de recepten in de groep/favorietenlijst niet mooi in een list view met alleen tekst. Hiervoor ging ik verder kijken naar een CardView met een RecyclerView, dit bleek voor mij ook ietsjes langer te duren dan verwacht maar ben toch blij dat ik het heb uitgevoerd. Het geeft naar mijn mening een fijnere weergave met een duidelijke cardview per item met imageurl, name en rating dan een listview met de titel van het recept. 

[![BCH compliance](https://bettercodehub.com/edge/badge/tomdekr/project-01?branch=master)](https://bettercodehub.com/)
